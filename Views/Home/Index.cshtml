@using AddressBook.Models.PageData;
@using AddressBook.Models.ContactData;
@model IndexModel

@{
  Layout = "_Layout";
}

<div class="container">
  <div class="jumbotron">
    <h1>Address Book</h1>
  </div>
  @if (@Model.ContactAdded == true)
  {
    <div class="alert alert-success alert-dismissable fade in">
      <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
      <strong>Success!</strong> New contact was added!
    </div>
  }
  @if (@Model.ContactsCleared == true)
  {
    <div class="alert alert-danger alert-dismissable fade in">
      <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
      All contacts removed successfully.
    </div>
  }
  @Html.Partial("ContactList", @Model.Contacts)

  <button class="btn btn-info" type="button" name="add-contact-button" data-toggle="modal" data-target="#new-contact-modal">Add Contact</button>
  @if(@Model.Contacts.Count > 0)
  {
    <button class="btn btn-danger" type="button" name="clear-button" data-toggle="modal" data-target="#clear-confirmation-modal">Clear All</button>
  }

  @if (@Model.FocusedContact != null)
  {
    @Html.Partial("ContactDetails", @Model.FocusedContact)
  }
</div>

@Html.Partial("Modals/ClearConfirmationModal")
@Html.Partial("Modals/NewContactModal")
